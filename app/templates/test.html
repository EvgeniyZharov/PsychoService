{% extends 'base_page.html' %}
{% block title %}–¢–µ—Å—Ç | –í–æ–ø—Ä–æ—Å {{ step }}{% endblock %}

{% block content %}
<div class="pt-20 px-6 bg-gradient-to-br from-pink-100 to-indigo-100 min-h-screen">
  <div class="max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-md">
    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" -->
    <div class="mb-4">
      {% if step > 1 %}
        <a href="{{ url_for('tests.test_step_back', theme_id=theme_id, step=step) }}"
           class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition flex items-center inline-block">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          –ù–∞–∑–∞–¥
        </a>
      {% else %}
        <button disabled class="bg-gray-300 text-gray-500 px-4 py-2 rounded-lg cursor-not-allowed flex items-center">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          –ù–∞–∑–∞–¥
        </button>
      {% endif %}
    </div>
    <h1 class="text-2xl font-bold mb-4 text-indigo-700">üß™ –í–æ–ø—Ä–æ—Å {{ step }}</h1>
    <p class="text-gray-600 mb-8">–í—ã–±–µ—Ä–∏ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:</p>

<!--    &lt;!&ndash; –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ª–æ–≤–∏–µ –≤–æ–ø—Ä–æ—Å–∞ –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å &ndash;&gt;-->
<!--    {% if question.condition %}-->
<!--      <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">-->
<!--        <p class="text-sm text-blue-700 font-medium mb-2">üìã –£—Å–ª–æ–≤–∏–µ –≤–æ–ø—Ä–æ—Å–∞:</p>-->
<!--        <p class="text-blue-800 font-mono text-sm">{{ question.condition }}</p>-->
<!--      </div>-->
<!--    {% endif %}-->

    <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å -->
    {% if previous_answer %}
      <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
        <p class="text-sm text-green-700 font-medium mb-2">–í–∞—à –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç:</p>
        <p class="text-green-800">{{ previous_answer }}</p>
      </div>
    {% endif %}

    <h2 class="text-lg font-semibold mb-3">{{ question.text }}</h2>

    <div class="space-y-3">
      {% for option in question.options %}
        <form method="post" action="{{ url_for('tests.test_step_by_theme', theme_id=theme_id, step=step) }}">
          <input type="hidden" name="answer" value="{{ option.text }}">
          <button type="submit"
                  class="w-full bg-indigo-500 text-white px-6 py-3 rounded-xl hover:bg-indigo-600 transition text-left">
            {{ option.text }}
          </button>
        </form>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}